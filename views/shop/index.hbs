<div class="row">
  <div class="col-sm-6 col-md-4 col-md-offset-4 col-sm-offset-3">
    <div id="success" class="alert alert-success" {{#if noMessage}}hidden{{/if}}>
      {{ successMsg }}
    </div>
  </div>
</div>
{{# each products }}
	<div class="row hidden">
		{{# each this }}
  <div class="col-sm-9 col-md-4">
    <div class="thumbnail">
      <img src="{{ this.imagePath }}" alt="..." class="img-responsive">
      <div class="caption">
        <h3 class="title">{{ this.title }}</h3>
        <p class="description">{{../../__ this.description}}</p>
        <div class="clearfix">
          {{#startsWith ../../currencyName "usd"}}
            <div class="price">{{../../symbol}} {{ this.price.usd }}</div>
          {{else}}
            <div class="price">{{../../symbol}} {{ this.price.eur }}</div>
          {{/startsWith}}
          <a href="/product/{{ this._id }}" class="btn btn-info pull-left" role="button">View details</a>
        	<a href="/add-to-cart/{{ this._id }}" class="btn btn-info pull-right" role="button">{{../../__ "addToCart"}}</a>
        </div>
      </div>
    </div>
  </div>
		{{/each}}
	</div>
{{/each}}
<nav aria-label="Page navigation" class="hidden">
  <ul class="pagination">
    <li>
      <a href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {{#each totalPages }}
      <li><a href="/subcategory/{{ ../subcategory }}/{{ this }}">{{ this }}</a></li>
    {{/each }}
    <li>
      <a href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>

<!--
<button>Send an HTTP GET request to a page and get the result back</button>
<input type="text" id=""></input>
-->
<div class="container">
    <div class="well well-sm">
        <strong>Display</strong>
        <div class="btn-group">
            <a href="#" id="list" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-th-list">
            </span>List</a> <a href="#" id="grid" class="btn btn-default btn-sm"><span
                class="glyphicon glyphicon-th"></span>Grid</a>
        </div>
    </div>
    {{# each products }}
    <div id="products" class="row list-group">
        {{# each this }}
        <div class="item col-sm-6 col-md-4">
            <div class="thumbnail">
                <img src="{{ this.imagePath }}" alt="..." class="group list-group-image img-responsive">
                <div class="caption">
                    <h3 class="group inner list-group-item-heading title">{{ this.title }}</h3>
                    <p class="group inner list-group-item-text description">{{../../__ this.description}}</p>
                    <div class="clearfix">
                      {{#startsWith ../../currencyName "usd"}}
                        <div class="price">{{../../symbol}} {{ this.price.usd }}</div>
                      {{else}}
                        <div class="price">{{../../symbol}} {{ this.price.eur }}</div>
                      {{/startsWith}}
                      <a href="/product/{{ this._id }}" class="btn btn-info pull-left" role="button">View details</a>
                      <a href="/add-to-cart/{{ this._id }}" class="btn btn-info pull-right" role="button">{{../../__ "addToCart"}}</a>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
    {{/each}}
    <nav aria-label="Page navigation">
  <ul class="pagination">
    <li>
      <a href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {{#each totalPages }}
      <li><a href="/subcategory/{{ ../subcategory }}/{{ this }}">{{ this }}</a></li>
    {{/each }}
    <li>
      <a href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>
</div>
<script>
$(document).ready(function() {
    $('#list').click(function(event){event.preventDefault();$('#products .item').addClass('list-group-item');});
    $('#grid').click(function(event){event.preventDefault();$('#products .item').removeClass('list-group-item');$('#products .item').addClass('grid-group-item');});
});
/*
$('input.typeahead').typeahead({
      minLength: 3,
      source:  function (query, process) {
        return $.get('http://localhost:3000/search/'+query, function (data) {
            console.log(data);
            data = $.parseJSON(data);
              console.log(data);
              return process(data);
          });
      }
});
*/
/*
$(document).ready(function(){
    $("button").click(function(){
        $.ajax({
          url: '/pula',
          complete : function(){
            alert(this.url)
          },
          success: function(data, status){
             $( "#test" ).text( data );
          }
        });
    });
});
*/
</script>